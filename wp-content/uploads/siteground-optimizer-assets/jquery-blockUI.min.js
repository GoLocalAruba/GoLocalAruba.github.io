/*!
 * jQuery blockUI plugin
 * Version 2.66.0-2013.10.09
 * Requires jQuery v1.7 or later
 *
 * Examples at: http://malsup.com/jquery/block/
 * Copyright (c) 2007-2013 M. Alsup
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * Thanks to Amir-Hossein Sobhi for some excellent contributions!
 */(function(){"use strict";function a(a){var d,e,g,o,i,b,c;a.fn._fadeIn=a.fn.fadeIn,d=a.noop||function(){},e=/MSIE/.test(navigator.userAgent),g=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),o=document.documentMode||0,i=a.isFunction(document.createElement('div').style.setExpression),a.blockUI=function(a){n(window,a)},a.unblockUI=function(a){h(window,a)},a.growlUI=function(d,e,c,g){var b=a('<div class="growlUI"></div>'),f,h;d&&b.append('<h1>'+d+'</h1>'),e&&b.append('<h2>'+e+'</h2>'),c===void 0&&(c=3e3),f=function(d){d=d||{},a.blockUI({message:b,fadeIn:typeof d.fadeIn!='undefined'?d.fadeIn:700,fadeOut:typeof d.fadeOut!='undefined'?d.fadeOut:1e3,timeout:typeof d.timeout!='undefined'?d.timeout:c,centerY:!1,showOverlay:!1,onUnblock:g,css:a.blockUI.defaults.growlCSS})},f(),h=b.css('opacity'),b.mouseover(function(){f({fadeIn:0,timeout:3e4});var b=a('.blockMsg');b.stop(),b.fadeTo(300,1)}).mouseout(function(){a('.blockMsg').fadeOut(1e3)})},a.fn.block=function(b){if(this[0]===window)return a.blockUI(b),this;var c=a.extend({},a.blockUI.defaults,b||{});return this.each(function(){var b=a(this);if(c.ignoreIfBlocked&&b.data('blockUI.isBlocked'))return;b.unblock({fadeOut:0})}),this.each(function(){a.css(this,'position')=='static'&&(this.style.position='relative',a(this).data('blockUI.static',!0)),this.style.zoom=1,n(this,b)})},a.fn.unblock=function(b){return this[0]===window?(a.unblockUI(b),this):this.each(function(){h(this,b)})},a.blockUI.version=2.66,a.blockUI.defaults={message:'<h1>Please wait...</h1>',title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:'30%',top:'40%',left:'35%',textAlign:'center',color:'#000',border:'3px solid #aaa',backgroundColor:'#fff',cursor:'wait'},themedCSS:{width:'30%',top:'40%',left:'35%'},overlayCSS:{backgroundColor:'#000',opacity:.6,cursor:'wait'},cursorReset:'default',growlCSS:{width:'350px',top:'10px',left:'',right:'10px',border:'none',padding:'5px',opacity:.6,cursor:'default',color:'#fff',backgroundColor:'#000','-webkit-border-radius':'10px','-moz-border-radius':'10px','border-radius':'10px'},iframeSrc:/^https/i.test(window.location.href||'')?'javascript:false':'about:blank',forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:':input:enabled:visible',onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:'blockMsg',ignoreIfBlocked:!1},b=null,c=[];function n(r,k){var n=r==window,m=k&&k.message!==void 0?k.message:void 0,y,B,v,s,t,w,u,o,q,z,G,F,C,D,E,x,A,H,I,J;if(k=a.extend({},a.blockUI.defaults,k||{}),k.ignoreIfBlocked&&a(r).data('blockUI.isBlocked'))return;k.overlayCSS=a.extend({},a.blockUI.defaults.overlayCSS,k.overlayCSS||{}),y=a.extend({},a.blockUI.defaults.css,k.css||{}),k.onOverlayClick&&(k.overlayCSS.cursor='pointer'),B=a.extend({},a.blockUI.defaults.themedCSS,k.themedCSS||{}),m=m===void 0?k.message:m,n&&b&&h(window,{fadeOut:0}),m&&typeof m!='string'&&(m.parentNode||m.jquery)&&(v=m.jquery?m[0]:m,s={},a(r).data('blockUI.history',s),s.el=v,s.parent=v.parentNode,s.display=v.style.display,s.position=v.style.position,s.parent&&s.parent.removeChild(v)),a(r).data('blockUI.onUnblock',k.onUnblock),t=k.baseZ,e||k.forceIframe?w=a('<iframe class="blockUI" style="z-index:'+t+++';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+k.iframeSrc+'"></iframe>'):w=a('<div class="blockUI" style="display:none"></div>'),k.theme?u=a('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+t+++';display:none"></div>'):u=a('<div class="blockUI blockOverlay" style="z-index:'+t+++';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'),k.theme&&n?(q='<div class="blockUI '+k.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(t+10)+';display:none;position:fixed">',k.title&&(q+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(k.title||'&nbsp;')+'</div>'),q+='<div class="ui-widget-content ui-dialog-content"></div>',q+='</div>'):k.theme?(q='<div class="blockUI '+k.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(t+10)+';display:none;position:absolute">',k.title&&(q+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(k.title||'&nbsp;')+'</div>'),q+='<div class="ui-widget-content ui-dialog-content"></div>',q+='</div>'):n?q='<div class="blockUI '+k.blockMsgClass+' blockPage" style="z-index:'+(t+10)+';display:none;position:fixed"></div>':q='<div class="blockUI '+k.blockMsgClass+' blockElement" style="z-index:'+(t+10)+';display:none;position:absolute"></div>',o=a(q),m&&(k.theme?(o.css(B),o.addClass('ui-widget-content')):o.css(y)),k.theme||u.css(k.overlayCSS),u.css('position',n?'fixed':'absolute'),(e||k.forceIframe)&&w.css('opacity',0),z=[w,u,o],G=n?a('body'):a(r),a.each(z,function(){this.appendTo(G)}),k.theme&&k.draggable&&a.fn.draggable&&o.draggable({handle:'.ui-dialog-titlebar',cancel:'li'}),F=i&&(!a.support.boxModel||a('object,embed',n?null:r).length>0),(g||F)&&(n&&k.allowBodyStretch&&a.support.boxModel&&a('html,body').css('height','100%'),(g||!a.support.boxModel)&&!n&&(C=f(r,'borderTopWidth'),D=f(r,'borderLeftWidth'),E=C?'(0 - '+C+')':0,x=D?'(0 - '+D+')':0),a.each(z,function(b,c){var a=c[0].style,d,e;a.position='absolute',b<2?(n?a.setExpression('height','Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:'+k.quirksmodeOffsetHack+') + "px"'):a.setExpression('height','this.parentNode.offsetHeight + "px"'),n?a.setExpression('width','jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):a.setExpression('width','this.parentNode.offsetWidth + "px"'),x&&a.setExpression('left',x),E&&a.setExpression('top',E)):k.centerY?(n&&a.setExpression('top','(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),a.marginTop=0):!k.centerY&&n&&(d=k.css&&k.css.top?parseInt(k.css.top,10):0,e='((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + '+d+') + "px"',a.setExpression('top',e))})),m&&(k.theme?o.find('.ui-widget-content').append(m):o.append(m),(m.jquery||m.nodeType)&&a(m).show()),(e||k.forceIframe)&&k.showOverlay&&w.show(),k.fadeIn?(A=k.onBlock?k.onBlock:d,H=k.showOverlay&&!m?A:d,I=m?A:d,k.showOverlay&&u._fadeIn(k.fadeIn,H),m&&o._fadeIn(k.fadeIn,I)):(k.showOverlay&&u.show(),m&&o.show(),k.onBlock&&k.onBlock()),l(1,r,k),n?(b=o[0],c=a(k.focusableElements,b),k.focusInput&&setTimeout(j,20)):p(o[0],k.centerX,k.centerY),k.timeout&&(J=setTimeout(function(){n?a.unblockUI(k):a(r).unblock(k)},k.timeout),a(r).data('blockUI.timeout',J))}function h(g,d){var i=g==window,f=a(g),j=f.data('blockUI.history'),m=f.data('blockUI.timeout'),h,e;m&&(clearTimeout(m),f.removeData('blockUI.timeout')),d=a.extend({},a.blockUI.defaults,d||{}),l(0,g,d),d.onUnblock===null&&(d.onUnblock=f.data('blockUI.onUnblock'),f.removeData('blockUI.onUnblock')),i?e=a('body').children().filter('.blockUI').add('body > .blockUI'):e=f.find('>.blockUI'),d.cursorReset&&(e.length>1&&(e[1].style.cursor=d.cursorReset),e.length>2&&(e[2].style.cursor=d.cursorReset)),i&&(b=c=null),d.fadeOut?(h=e.length,e.stop().fadeOut(d.fadeOut,function(){--h===0&&k(e,j,d,g)})):k(e,j,d,g)}function k(h,b,e,g){var c=a(g),d,f,i;if(c.data('blockUI.isBlocked'))return;h.each(function(a,b){this.parentNode&&this.parentNode.removeChild(this)}),b&&b.el&&(b.el.style.display=b.display,b.el.style.position=b.position,b.parent&&b.parent.appendChild(b.el),c.removeData('blockUI.history')),c.data('blockUI.static')&&c.css('position','static'),typeof e.onUnblock=='function'&&e.onUnblock(g,e),d=a(document.body),f=d.width(),i=d[0].style.width,d.width(f-1).width(f),d[0].style.width=i}function l(c,f,d){var e=f==window,g=a(f),h;if(!c&&(e&&!b||!e&&!g.data('blockUI.isBlocked')))return;if(g.data('blockUI.isBlocked',c),!e||!d.bindEvents||c&&!d.showOverlay)return;h='mousedown mouseup keydown keypress keyup touchstart touchend touchmove',c?a(document).bind(h,d,m):a(document).unbind(h,m)}function m(d){var e,i,h,f,g;if(d.type==='keydown'&&d.keyCode&&d.keyCode==9)if(b&&d.data.constrainTabKey)if(e=c,i=!d.shiftKey&&d.target===e[e.length-1],h=d.shiftKey&&d.target===e[0],i||h)return setTimeout(function(){j(h)},10),!1;return!!(f=d.data,g=a(d.target),g.hasClass('blockOverlay')&&f.onOverlayClick&&f.onOverlayClick(d),g.parents('div.'+f.blockMsgClass).length>0)||g.parents().children().filter('div.blockUI').length===0}function j(b){if(!c)return;var a=c[b===!0?c.length-1:0];a&&a.focus()}function p(a,g,h){var b=a.parentNode,c=a.style,d=(b.offsetWidth-a.offsetWidth)/2-f(b,'borderLeftWidth'),e=(b.offsetHeight-a.offsetHeight)/2-f(b,'borderTopWidth');g&&(c.left=d>0?d+'px':'0'),h&&(c.top=e>0?e+'px':'0')}function f(b,c){return parseInt(a.css(b,c),10)||0}}typeof define=='function'&&define.amd&&define.amd.jQuery?define(['jquery'],a):a(jQuery)})()