(function(e){"use strict";var s=function(t,n){var o=this,s=e(t),i=n;this.build=function(){var n=0,t=s.find("img"),i=t.length;t.each(function(){e(this).one("load",function(){++n===i&&(o.createIsotope(!0),s.css("opacity","1"))}).each(function(){this.complete&&e(this).load()})})},this.createIsotope=function(t){var a,i=s,n=i.parent().actual("width"),c=parseInt(i.parent().attr("data-column_count"),10),r=40;typeof t=="undefined"&&(t=!0),i.parent().hasClass("theme-component-gallery-type-1")?(i.children("li").each(function(){var t=300;e(this).hasClass("theme-component-gallery-item-width-25")?n<460?t=130:n<750?t=210:n<940?t=157.5:n<1220?t=205:t=275:n<460?t=300:n<750?t=460:n<940?t=355:n<1220?t=450:t=590,e(this).css("width",t)}),i.isotope({layoutMode:"fitRows",fitRows:{gutter:r}})):i.parent().hasClass("theme-component-gallery-type-2")&&(a=(n-r*(c-1))/c,a<=130&&(a="100%"),i.children("li").css("width",a),i.isotope({layoutMode:"masonry",masonry:{gutter:r}})),t&&e(window).resize(function(){o.createIsotope(!1)})}};e.fn.gallery=function(e){return this.each(function(){var t=new s(this,e);return t.build(),t})}})(jQuery,document,window)